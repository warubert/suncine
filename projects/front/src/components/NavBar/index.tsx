import React, { useState } from 'react';
import logo from '../../assets/logo.png';
import { useNavigate } from 'react-router-dom';

interface NavBarProps {
  selectedPage: (page: string) => void;
}

const NavBar: React.FC<NavBarProps> = ({ selectedPage }) => {
  const navigate = useNavigate();
  
  const [user] = useState({
    id: "67394d15c7e82dea5228633d",
    login: "admin@email.com",
    name: "Dev"
  });

  const [pageActive, setPageActive] = useState<string>('featured');

  const handlePageClick = (page: string) => {
    setPageActive(page);
    selectedPage(page);
  };

  const handleLogout = () => {
    localStorage.removeItem('authToken');
    navigate('/');
  };

  return (
    <div>
      <div className="absolute top-0 left-0 w-full h-20 bg-gradient-to-r from-[#212121] to-[#0A1916] flex items-center">
        <img src={logo} className="absolute top-1/2 left-5 transform -translate-y-1/2 h-10" alt="Logo" />
        <div className="absolute top-1/2 right-24 transform -translate-y-1/2 inline-flex items-center">
          <div className="relative bg-gray-600 text-center w-9 h-9 rounded-full m-5">
            <h1 className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xl font-bold text-white">{user.name[0]}</h1>
          </div>
          <p className="inline-grid">
            Ol√° {user.name}!
            <a className="text-sm font-normal text-gray-500 underline cursor-pointer" onClick={() => handlePageClick('perfil')}>Ver Perfil</a>
          </p>
        </div>
        <div className="absolute top-1/2 right-5 transform -translate-y-1/2 cursor-pointer" onClick={handleLogout}>
          <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.3806 2.30469C10.6072 2.30494 10.8251 2.39169 10.9899 2.54722C11.1546 2.70275 11.2537 2.91531 11.267 3.14148C11.2803 3.36765 11.2067 3.59036 11.0613 3.76409C10.9159 3.93783 10.7096 4.04948 10.4846 4.07624L10.3806 4.08247H5.9362C5.71848 4.08249 5.50834 4.16243 5.34565 4.3071C5.18295 4.45178 5.079 4.65113 5.05353 4.86735L5.04731 4.97135V15.638C5.04734 15.8557 5.12727 16.0659 5.27194 16.2286C5.41662 16.3913 5.61597 16.4952 5.8322 16.5207L5.9362 16.5269H9.9362C10.1628 16.5272 10.3807 16.6139 10.5454 16.7694C10.7102 16.925 10.8093 17.1375 10.8226 17.3637C10.8359 17.5899 10.7623 17.8126 10.6169 17.9863C10.4714 18.1601 10.2652 18.2717 10.0402 18.2985L9.9362 18.3047H5.9362C5.25601 18.3047 4.60152 18.0448 4.10663 17.5782C3.61175 17.1116 3.31388 16.4735 3.27398 15.7945L3.26953 15.638V4.97135C3.26949 4.29117 3.52938 3.63667 3.99601 3.14179C4.46264 2.6469 5.10074 2.34904 5.77975 2.30913L5.9362 2.30469H10.3806ZM15.4535 7.16158L17.9673 9.67624C18.134 9.84293 18.2276 10.069 18.2276 10.3047C18.2276 10.5404 18.134 10.7664 17.9673 10.9331L15.4535 13.4478C15.2867 13.6145 15.0606 13.7081 14.8248 13.708C14.589 13.7079 14.3629 13.6141 14.1962 13.4474C14.0295 13.2806 13.9359 13.0544 13.936 12.8186C13.9361 12.5828 14.0299 12.3567 14.1966 12.19L15.1931 11.1936H10.3806C10.1449 11.1936 9.9188 11.0999 9.7521 10.9332C9.5854 10.7665 9.49175 10.5404 9.49175 10.3047C9.49175 10.0689 9.5854 9.84285 9.7521 9.67615C9.9188 9.50945 10.1449 9.4158 10.3806 9.4158H15.1931L14.1966 8.41935C14.0299 8.25268 13.9361 8.02658 13.936 7.79078C13.9359 7.55498 14.0295 7.32881 14.1962 7.16202C14.3629 6.99523 14.589 6.90148 14.8248 6.9014C15.0606 6.90131 15.2867 6.9949 15.4535 7.16158Z" fill="#FCFCFC"/>
          </svg>
        </div>
      </div>

      <div className="absolute top-20 left-0 w-full h-15 bg-[#0A1916] flex justify-center items-center">
        <div className="flex space-x-6">
          <div
            className={`relative flex items-center h-12 inline-flex cursor-pointer`}
            onClick={() => handlePageClick('featured')}
          >
            <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M18.3074 7.62119L16.8362 6.15006C16.7176 6.03297 16.5593 5.9646 16.3927 5.95842C16.2261 5.95225 16.0632 6.00873 15.9362 6.11672C15.7401 6.28365 15.4884 6.37081 15.231 6.36093C14.9737 6.35105 14.7294 6.24486 14.5467 6.06338C14.3653 5.88066 14.2592 5.63649 14.2493 5.37922C14.2394 5.12195 14.3265 4.87035 14.4934 4.67426C14.6014 4.54723 14.6578 4.38435 14.6517 4.21774C14.6455 4.05112 14.5771 3.89287 14.46 3.77418L12.9876 2.30137C12.8631 2.17718 12.6945 2.10742 12.5187 2.10742C12.3429 2.10742 12.1742 2.17718 12.0498 2.30137L9.70459 4.64626C9.5598 4.79157 9.45061 4.96842 9.38556 5.16297C9.3729 5.20037 9.35179 5.23436 9.32386 5.26228C9.29594 5.2902 9.26195 5.31132 9.22455 5.32398C9.02992 5.38903 8.85304 5.49835 8.70784 5.64335L2.69395 11.6572C2.56975 11.7817 2.5 11.9503 2.5 12.1261C2.5 12.3019 2.56975 12.4705 2.69395 12.595L4.16675 14.0661C4.28545 14.1832 4.4437 14.2516 4.61031 14.2578C4.77693 14.2639 4.93981 14.2074 5.06684 14.0995C5.26248 13.9312 5.51449 13.843 5.77237 13.8527C6.03025 13.8624 6.27494 13.9692 6.45742 14.1517C6.6399 14.3341 6.74667 14.5788 6.75636 14.8367C6.76604 15.0946 6.67791 15.3466 6.50963 15.5423C6.40164 15.6693 6.34517 15.8322 6.35134 15.9988C6.35751 16.1654 6.42588 16.3236 6.54297 16.4423L8.01411 17.9135C8.13854 18.0377 8.30717 18.1074 8.48298 18.1074C8.65879 18.1074 8.82742 18.0377 8.95186 17.9135L14.9657 11.8996C15.1107 11.7544 15.22 11.5777 15.2851 11.3832C15.2977 11.3457 15.3188 11.3116 15.3468 11.2836C15.3748 11.2556 15.4089 11.2345 15.4465 11.2219C15.6409 11.1568 15.8176 11.0476 15.9628 10.9028L18.3077 8.55761C18.4315 8.43319 18.5009 8.26482 18.5008 8.08933C18.5008 7.91385 18.4312 7.74553 18.3074 7.62119ZM10.6944 6.63277C10.6448 6.68231 10.586 6.72161 10.5213 6.74842C10.4566 6.77524 10.3872 6.78904 10.3171 6.78904C10.2471 6.78904 10.1777 6.77524 10.113 6.74842C10.0483 6.72161 9.98948 6.68231 9.93995 6.63277L9.55625 6.24907C9.45865 6.14854 9.40454 6.01364 9.40559 5.87353C9.40665 5.73342 9.46279 5.59936 9.56188 5.50031C9.66098 5.40125 9.79507 5.34517 9.93518 5.34418C10.0753 5.34319 10.2102 5.39736 10.3106 5.495L10.6944 5.87837C10.7439 5.9279 10.7832 5.9867 10.81 6.05142C10.8368 6.11615 10.8506 6.18551 10.8506 6.25557C10.8506 6.32562 10.8368 6.39499 10.81 6.45971C10.7832 6.52443 10.7439 6.58324 10.6944 6.63277ZM12.1612 8.09957C12.0611 8.19952 11.9255 8.25567 11.7841 8.25567C11.6427 8.25567 11.5071 8.19952 11.4071 8.09957L11.0404 7.73287C10.9403 7.63283 10.8841 7.49715 10.8841 7.35567C10.8841 7.21419 10.9403 7.07851 11.0404 6.97847C11.1404 6.87843 11.2761 6.82223 11.4176 6.82223C11.5591 6.82223 11.6947 6.87843 11.7948 6.97847L12.1615 7.34517C12.2112 7.3947 12.2507 7.45355 12.2776 7.51835C12.3045 7.58315 12.3184 7.65263 12.3184 7.7228C12.3185 7.79297 12.3046 7.86247 12.2778 7.92729C12.2509 7.99212 12.2115 8.051 12.1618 8.10057L12.1612 8.09957ZM13.628 9.56637C13.5784 9.61591 13.5196 9.65521 13.4549 9.68203C13.3902 9.70884 13.3208 9.72264 13.2508 9.72264C13.1807 9.72264 13.1113 9.70884 13.0466 9.68203C12.9819 9.65521 12.9231 9.61591 12.8736 9.56637L12.5069 9.19967C12.4093 9.09914 12.3551 8.96424 12.3562 8.82413C12.3573 8.68403 12.4134 8.54996 12.5125 8.45091C12.6116 8.35186 12.7457 8.29577 12.8858 8.29478C13.0259 8.29379 13.1608 8.34797 13.2613 8.4456L13.628 8.8123C13.6778 8.86175 13.7174 8.92055 13.7445 8.98533C13.7716 9.05012 13.7856 9.11961 13.7857 9.18983C13.7859 9.26004 13.7722 9.32959 13.7454 9.3945C13.7186 9.4594 13.6793 9.51837 13.6296 9.56804L13.628 9.56637ZM15.1091 11.0512C15.0596 11.1007 15.0008 11.14 14.936 11.1668C14.8713 11.1936 14.8019 11.2074 14.7319 11.2074C14.6618 11.2074 14.5925 11.1936 14.5277 11.1668C14.463 11.14 14.4042 11.1007 14.3547 11.0512L13.9733 10.6678C13.9227 10.6184 13.8825 10.5595 13.8549 10.4944C13.8273 10.4293 13.8129 10.3594 13.8126 10.2887C13.8122 10.218 13.8259 10.148 13.8529 10.0826C13.8799 10.0173 13.9196 9.95795 13.9697 9.90808C14.0198 9.85822 14.0793 9.81881 14.1448 9.79215C14.2103 9.76549 14.2804 9.75212 14.3511 9.7528C14.4218 9.75348 14.4916 9.76821 14.5566 9.79612C14.6215 9.82404 14.6803 9.86458 14.7294 9.9154L15.1111 10.2984C15.1606 10.348 15.1999 10.4068 15.2267 10.4715C15.2534 10.5363 15.2672 10.6057 15.2672 10.6757C15.2672 10.7458 15.2533 10.8151 15.2265 10.8798C15.1996 10.9445 15.1603 11.0033 15.1108 11.0528L15.1091 11.0512Z" fill="#FCFCFC"/>
            </svg>
            <h2 className="text-base font-medium ml-2">Filmes em alta</h2>
            {pageActive === 'featured' && <div className="absolute bottom-0 w-36 h-px bg-orange-400"></div>}
          </div>

          <div
            className={`relative flex items-center inline-flex cursor-pointer`}
            onClick={() => handlePageClick('favorites')}
          >
          <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M6.4 3.24219C3.97 3.24219 2 5.21219 2 7.64219C2 12.0422 7.2 16.0422 10 16.9726C12.8 16.0422 18 12.0422 18 7.64219C18 5.21219 16.03 3.24219 13.6 3.24219C12.112 3.24219 10.796 3.98099 10 5.11179C9.5942 4.53394 9.05518 4.06235 8.42854 3.73692C7.80191 3.41149 7.1061 3.24179 6.4 3.24219Z" fill="white"/>
            </svg>
            <h2 className="text-base font-medium ml-2">Minhas curtidas</h2>
            {pageActive === 'favorites' && <div className="absolute bottom-0 w-36 h-px bg-orange-400"></div>}
          </div>

          <div
            className={`relative flex items-center inline-flex cursor-pointer`}
            onClick={() => handlePageClick('perfil')}
          >
            <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 10.1074C12.21 10.1074 14 8.31742 14 6.10742C14 3.89742 12.21 2.10742 10 2.10742C7.79 2.10742 6 3.89742 6 6.10742C6 8.31742 7.79 10.1074 10 10.1074ZM10 12.1074C7.33 12.1074 2 13.4474 2 16.1074V17.1074C2 17.6574 2.45 18.1074 3 18.1074H17C17.55 18.1074 18 17.6574 18 17.1074V16.1074C18 13.4474 12.67 12.1074 10 12.1074Z" fill="#FCFCFC"/>
            </svg>
            <h2 className="text-base font-medium ml-2">Meu Perfil</h2>
            {pageActive === 'perfil' && <div className="absolute bottom-0 w-28 h-px bg-orange-400"></div>}
          </div>

        </div>
      </div>
    </div>
  );
};

export default NavBar;
